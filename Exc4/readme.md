Работа с ОСАГО будет выстроена так:
1. Клиентское приложение соединяеятся с core-app по websocket
2. Клиентское приложение передает данные о машине через websocket в core-app
3. core-app отправляет сообщение с запросом по ОСАГО в Kafka
4. подписчик в лице osago-aggregator перехватывает сообщение и отправляет запрос к страховой
5. все это время на стороне клиента крутится индикатор загрузки с таймаутом 1 минута
6. По мере поступления ответов от страховых компаний они напраляются через Kafka и websocket в клиентское приложение, где по мере поступления отображются в списке предложений

Если страховая компания передает все данные в ответе на запрос, то никакая БД агрегатору не нужна. Если есть возможность, приням риски задержки обновления, закеширьвать часть данных для уменьшения нагрузки на сеть, то это лучше сделать

Core-app, как указано выше, общается с агрегатором через Kafka по схеме асинхронного общения точка-точка

Клиентская часть будет рабоать с сервером по websocket'у

Для обработки ситуации, когда ни одна страховая не смогла ответить за отведенное время необходим на стороне клиентского приложения обрабоать ситуацию Timout
